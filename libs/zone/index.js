"use strict";
'use strict';
function Zone(parentZone, data) {
  var zone = (arguments.length) ? Object.create(parentZone) : this;
  zone.parent = parentZone;
  Object.keys(data || {}).forEach(function(property) {
    var _property = property.substr(1);
    if (property[0] === '$') {
      zone[_property] = data[property](parentZone[_property] || function() {});
    } else if (property[0] === '+') {
      if (parentZone[_property]) {
        zone[_property] = function() {
          var result = parentZone[_property].apply(this, arguments);
          data[property].apply(this, arguments);
          return result;
        };
      } else {
        zone[_property] = data[property];
      }
    } else if (property[0] === '-') {
      if (parentZone[_property]) {
        zone[_property] = function() {
          data[property].apply(this, arguments);
          return parentZone[_property].apply(this, arguments);
        };
      } else {
        zone[_property] = data[property];
      }
    } else {
      zone[property] = (typeof data[property] === 'object') ? JSON.parse(JSON.stringify(data[property])) : data[property];
    }
  });
  return zone;
}
Zone.prototype = {
  constructor: Zone,
  fork: function(locals) {
    this.onZoneCreated();
    return new Zone(this, locals);
  },
  bind: function(fn, skipEnqueue) {
    skipEnqueue || this.enqueueTask(fn);
    var zone = this.fork();
    return function zoneBoundFn() {
      return zone.run(fn, this, arguments);
    };
  },
  bindOnce: function(fn) {
    var boundZone = this;
    return this.bind(function() {
      var result = fn.apply(this, arguments);
      boundZone.dequeueTask(fn);
      return result;
    });
  },
  run: function run(fn, applyTo, applyWith) {
    applyWith = applyWith || [];
    var oldZone = window.zone,
        result;
    window.zone = this;
    try {
      this.beforeTask();
      result = fn.apply(applyTo, applyWith);
    } catch (e) {
      if (zone.onError) {
        zone.onError(e);
      } else {
        throw e;
      }
    } finally {
      this.afterTask();
      window.zone = oldZone;
    }
    return result;
  },
  beforeTask: function() {},
  onZoneCreated: function() {},
  afterTask: function() {},
  enqueueTask: function() {},
  dequeueTask: function() {}
};
Zone.patchSetClearFn = function(obj, fnNames) {
  fnNames.map(function(name) {
    return name[0].toUpperCase() + name.substr(1);
  }).forEach(function(name) {
    var setName = 'set' + name;
    var clearName = 'clear' + name;
    var delegate = obj[setName];
    if (delegate) {
      var ids = {};
      if (setName === 'setInterval') {
        zone[setName] = function(fn) {
          var id;
          arguments[0] = function() {
            delete ids[id];
            return fn.apply(this, arguments);
          };
          var args = Zone.bindArguments(arguments);
          id = delegate.apply(obj, args);
          ids[id] = true;
          return id;
        };
      } else {
        zone[setName] = function(fn) {
          var id;
          arguments[0] = function() {
            delete ids[id];
            return fn.apply(this, arguments);
          };
          var args = Zone.bindArgumentsOnce(arguments);
          id = delegate.apply(obj, args);
          ids[id] = true;
          return id;
        };
      }
      obj[setName] = function() {
        return zone[setName].apply(this, arguments);
      };
      var clearDelegate = obj[clearName];
      zone[clearName] = function(id) {
        if (ids[id]) {
          delete ids[id];
          zone.dequeueTask();
        }
        return clearDelegate.apply(this, arguments);
      };
      obj[clearName] = function() {
        return zone[clearName].apply(this, arguments);
      };
    }
  });
};
Zone.patchSetFn = function(obj, fnNames) {
  fnNames.forEach(function(name) {
    var delegate = obj[name];
    if (delegate) {
      zone[name] = function(fn) {
        arguments[0] = function() {
          return fn.apply(this, arguments);
        };
        var args = Zone.bindArgumentsOnce(arguments);
        return delegate.apply(obj, args);
      };
      obj[name] = function() {
        return zone[name].apply(this, arguments);
      };
    }
  });
};
Zone.patchPrototype = function(obj, fnNames) {
  fnNames.forEach(function(name) {
    var delegate = obj[name];
    if (delegate) {
      obj[name] = function() {
        return delegate.apply(this, Zone.bindArguments(arguments));
      };
    }
  });
};
Zone.bindArguments = function(args) {
  for (var i = args.length - 1; i >= 0; i--) {
    if (typeof args[i] === 'function') {
      args[i] = zone.bind(args[i]);
    }
  }
  return args;
};
Zone.bindArgumentsOnce = function(args) {
  for (var i = args.length - 1; i >= 0; i--) {
    if (typeof args[i] === 'function') {
      args[i] = zone.bindOnce(args[i]);
    }
  }
  return args;
};
Zone.patchableFn = function(obj, fnNames) {
  fnNames.forEach(function(name) {
    var delegate = obj[name];
    zone[name] = function() {
      return delegate.apply(obj, arguments);
    };
    obj[name] = function() {
      return zone[name].apply(this, arguments);
    };
  });
};
Zone.patchProperty = function(obj, prop) {
  var desc = Object.getOwnPropertyDescriptor(obj, prop) || {
    enumerable: true,
    configurable: true
  };
  delete desc.writable;
  delete desc.value;
  var eventName = prop.substr(2);
  var _prop = '_' + prop;
  desc.set = function(fn) {
    if (this[_prop]) {
      this.removeEventListener(eventName, this[_prop]);
    }
    if (typeof fn === 'function') {
      this[_prop] = fn;
      this.addEventListener(eventName, fn, false);
    } else {
      this[_prop] = null;
    }
  };
  desc.get = function() {
    return this[_prop];
  };
  Object.defineProperty(obj, prop, desc);
};
Zone.patchProperties = function(obj, properties) {
  (properties || (function() {
    var props = [];
    for (var prop in obj) {
      props.push(prop);
    }
    return props;
  }()).filter(function(propertyName) {
    return propertyName.substr(0, 2) === 'on';
  })).forEach(function(eventName) {
    Zone.patchProperty(obj, eventName);
  });
};
Zone.patchEventTargetMethods = function(obj) {
  var addDelegate = obj.addEventListener;
  obj.addEventListener = function(eventName, fn) {
    arguments[1] = fn._bound = zone.bind(fn);
    return addDelegate.apply(this, arguments);
  };
  var removeDelegate = obj.removeEventListener;
  obj.removeEventListener = function(eventName, fn) {
    arguments[1] = arguments[1]._bound || arguments[1];
    var result = removeDelegate.apply(this, arguments);
    zone.dequeueTask(fn);
    return result;
  };
};
Zone.patch = function patch() {
  Zone.patchSetClearFn(window, ['timeout', 'interval', 'immediate']);
  Zone.patchSetFn(window, ['requestAnimationFrame', 'mozRequestAnimationFrame', 'webkitRequestAnimationFrame']);
  Zone.patchableFn(window, ['alert', 'prompt']);
  if (window.EventTarget) {
    Zone.patchEventTargetMethods(window.EventTarget.prototype);
  } else {
    ['ApplicationCache', 'EventSource', 'FileReader', 'InputMethodContext', 'MediaController', 'MessagePort', 'Node', 'Performance', 'SVGElementInstance', 'SharedWorker', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebKitNamedFlow', 'Window', 'Worker', 'WorkerGlobalScope', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'].filter(function(thing) {
      return window[thing];
    }).map(function(thing) {
      return window[thing].prototype;
    }).forEach(Zone.patchEventTargetMethods);
  }
  if (Zone.canPatchViaPropertyDescriptor()) {
    Zone.patchViaPropertyDescriptor();
  } else {
    Zone.patchViaCapturingAllTheEvents();
    Zone.patchClass('XMLHttpRequest');
  }
  if (window.Promise) {
    Zone.patchPrototype(Promise.prototype, ['then', 'catch']);
  }
  Zone.patchMutationObserverClass('MutationObserver');
  Zone.patchMutationObserverClass('WebKitMutationObserver');
  Zone.patchDefineProperty();
  Zone.patchRegisterElement();
};
Zone.canPatchViaPropertyDescriptor = function() {
  Object.defineProperty(HTMLElement.prototype, 'onclick', {get: function() {
      return true;
    }});
  var elt = document.createElement('div');
  var result = !!elt.onclick;
  Object.defineProperty(HTMLElement.prototype, 'onclick', {});
  return result;
};
Zone.patchViaPropertyDescriptor = function() {
  Zone.patchProperties(HTMLElement.prototype, Zone.onEventNames);
  Zone.patchProperties(XMLHttpRequest.prototype);
};
Zone.patchViaCapturingAllTheEvents = function() {
  Zone.eventNames.forEach(function(property) {
    var onproperty = 'on' + property;
    document.addEventListener(property, function(event) {
      var elt = event.target,
          bound;
      while (elt) {
        if (elt[onproperty] && !elt[onproperty]._unbound) {
          bound = zone.bind(elt[onproperty]);
          bound._unbound = elt[onproperty];
          elt[onproperty] = bound;
        }
        elt = elt.parentElement;
      }
    }, true);
  });
};
Zone.patchClass = function(className) {
  var OriginalClass = window[className];
  if (!OriginalClass) {
    return;
  }
  window[className] = function() {
    var a = Zone.bindArguments(arguments);
    switch (a.length) {
      case 0:
        this._o = new OriginalClass();
        break;
      case 1:
        this._o = new OriginalClass(a[0]);
        break;
      case 2:
        this._o = new OriginalClass(a[0], a[1]);
        break;
      case 3:
        this._o = new OriginalClass(a[0], a[1], a[2]);
        break;
      case 4:
        this._o = new OriginalClass(a[0], a[1], a[2], a[3]);
        break;
      default:
        throw new Error('what are you even doing?');
    }
  };
  var instance = new OriginalClass(className.substr(-16) === 'MutationObserver' ? function() {} : undefined);
  var prop;
  for (prop in instance) {
    (function(prop) {
      if (typeof instance[prop] === 'function') {
        window[className].prototype[prop] = function() {
          return this._o[prop].apply(this._o, arguments);
        };
      } else {
        Object.defineProperty(window[className].prototype, prop, {
          set: function(fn) {
            if (typeof fn === 'function') {
              this._o[prop] = zone.bind(fn);
            } else {
              this._o[prop] = fn;
            }
          },
          get: function() {
            return this._o[prop];
          }
        });
      }
    }(prop));
  }
  ;
};
Zone.patchMutationObserverClass = function(className) {
  var OriginalClass = window[className];
  if (!OriginalClass) {
    return;
  }
  window[className] = function(fn) {
    this._o = new OriginalClass(zone.bind(fn, true));
  };
  var instance = new OriginalClass(function() {});
  window[className].prototype.disconnect = function() {
    var result = this._o.disconnect.apply(this._o, arguments);
    this._active && zone.dequeueTask();
    this._active = false;
    return result;
  };
  window[className].prototype.observe = function() {
    if (!this._active) {
      zone.enqueueTask();
    }
    this._active = true;
    return this._o.observe.apply(this._o, arguments);
  };
  var prop;
  for (prop in instance) {
    (function(prop) {
      if (typeof window[className].prototype !== undefined) {
        return;
      }
      if (typeof instance[prop] === 'function') {
        window[className].prototype[prop] = function() {
          return this._o[prop].apply(this._o, arguments);
        };
      } else {
        Object.defineProperty(window[className].prototype, prop, {
          set: function(fn) {
            if (typeof fn === 'function') {
              this._o[prop] = zone.bind(fn);
            } else {
              this._o[prop] = fn;
            }
          },
          get: function() {
            return this._o[prop];
          }
        });
      }
    }(prop));
  }
};
Zone.patchDefineProperty = function() {
  var _defineProperty = Object.defineProperty;
  var _getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
  var _create = Object.create;
  Object.defineProperty = function(obj, prop, desc) {
    if (isUnconfigurable(obj, prop)) {
      throw new TypeError('Cannot assign to read only property \'' + prop + '\' of ' + obj);
    }
    if (prop !== 'prototype') {
      desc = rewriteDescriptor(obj, prop, desc);
    }
    return _defineProperty(obj, prop, desc);
  };
  Object.defineProperties = function(obj, props) {
    Object.keys(props).forEach(function(prop) {
      Object.defineProperty(obj, prop, props[prop]);
    });
    return obj;
  };
  Object.create = function(obj, proto) {
    if (typeof proto === 'object') {
      Object.keys(proto).forEach(function(prop) {
        proto[prop] = rewriteDescriptor(obj, prop, proto[prop]);
      });
    }
    return _create(obj, proto);
  };
  Object.getOwnPropertyDescriptor = function(obj, prop) {
    var desc = _getOwnPropertyDescriptor(obj, prop);
    if (isUnconfigurable(obj, prop)) {
      desc.configurable = false;
    }
    return desc;
  };
  Zone._redefineProperty = function(obj, prop, desc) {
    desc = rewriteDescriptor(obj, prop, desc);
    return _defineProperty(obj, prop, desc);
  };
  function isUnconfigurable(obj, prop) {
    return obj && obj.__unconfigurables && obj.__unconfigurables[prop];
  }
  function rewriteDescriptor(obj, prop, desc) {
    desc.configurable = true;
    if (!desc.configurable) {
      if (!obj.__unconfigurables) {
        _defineProperty(obj, '__unconfigurables', {
          writable: true,
          value: {}
        });
      }
      obj.__unconfigurables[prop] = true;
    }
    return desc;
  }
};
Zone.patchRegisterElement = function() {
  if (!('registerElement' in document)) {
    return;
  }
  var _registerElement = document.registerElement;
  var callbacks = ['createdCallback', 'attachedCallback', 'detachedCallback', 'attributeChangedCallback'];
  document.registerElement = function(name, opts) {
    callbacks.forEach(function(callback) {
      if (opts.prototype[callback]) {
        var descriptor = Object.getOwnPropertyDescriptor(opts.prototype, callback);
        if (descriptor.value) {
          descriptor.value = zone.bind(descriptor.value || opts.prototype[callback]);
          Zone._redefineProperty(opts.prototype, callback, descriptor);
        }
      }
    });
    return _registerElement.apply(document, [name, opts]);
  };
};
Zone.eventNames = 'copy cut paste abort blur focus canplay canplaythrough change click contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange emptied ended input invalid keydown keypress keyup load loadeddata loadedmetadata loadstart mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup pause play playing progress ratechange reset scroll seeked seeking select show stalled submit suspend timeupdate volumechange waiting mozfullscreenchange mozfullscreenerror mozpointerlockchange mozpointerlockerror error webglcontextrestored webglcontextlost webglcontextcreationerror'.split(' ');
Zone.onEventNames = Zone.eventNames.map(function(property) {
  return 'on' + property;
});
Zone.init = function init() {
  if (typeof module !== 'undefined' && module && module.exports) {
    module.exports = new Zone();
  } else {
    window.zone = new Zone();
  }
  Zone.patch();
};
Zone.init();

//# sourceMappingURL=data:application/json;base64,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b25lL2luZGV4LmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5cbmZ1bmN0aW9uIFpvbmUocGFyZW50Wm9uZSwgZGF0YSkge1xuICB2YXIgem9uZSA9IChhcmd1bWVudHMubGVuZ3RoKSA/IE9iamVjdC5jcmVhdGUocGFyZW50Wm9uZSkgOiB0aGlzO1xuXG4gIHpvbmUucGFyZW50ID0gcGFyZW50Wm9uZTtcblxuICBPYmplY3Qua2V5cyhkYXRhIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG5cbiAgICB2YXIgX3Byb3BlcnR5ID0gcHJvcGVydHkuc3Vic3RyKDEpO1xuXG4gICAgLy8gYXVnbWVudCB0aGUgbmV3IHpvbmUgd2l0aCBhIGhvb2sgZGVjb3JhdGVzIHRoZSBwYXJlbnQncyBob29rXG4gICAgaWYgKHByb3BlcnR5WzBdID09PSAnJCcpIHtcbiAgICAgIHpvbmVbX3Byb3BlcnR5XSA9IGRhdGFbcHJvcGVydHldKHBhcmVudFpvbmVbX3Byb3BlcnR5XSB8fCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgICAvLyBhdWdtZW50IHRoZSBuZXcgem9uZSB3aXRoIGEgaG9vayB0aGF0IHJ1bnMgYWZ0ZXIgdGhlIHBhcmVudCdzIGhvb2tcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5WzBdID09PSAnKycpIHtcbiAgICAgIGlmIChwYXJlbnRab25lW19wcm9wZXJ0eV0pIHtcbiAgICAgICAgem9uZVtfcHJvcGVydHldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJlbnRab25lW19wcm9wZXJ0eV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICBkYXRhW3Byb3BlcnR5XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB6b25lW19wcm9wZXJ0eV0gPSBkYXRhW3Byb3BlcnR5XTtcbiAgICAgIH1cblxuICAgIC8vIGF1Z21lbnQgdGhlIG5ldyB6b25lIHdpdGggYSBob29rIHRoYXQgcnVucyBiZWZvcmUgdGhlIHBhcmVudCdzIGhvb2tcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5WzBdID09PSAnLScpIHtcbiAgICAgIGlmIChwYXJlbnRab25lW19wcm9wZXJ0eV0pIHtcbiAgICAgICAgem9uZVtfcHJvcGVydHldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRhdGFbcHJvcGVydHldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFpvbmVbX3Byb3BlcnR5XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgem9uZVtfcHJvcGVydHldID0gZGF0YVtwcm9wZXJ0eV07XG4gICAgICB9XG5cbiAgICAvLyBzZXQgdGhlIG5ldyB6b25lJ3MgaG9vayAocmVwbGFjaW5nIHRoZSBwYXJlbnQgem9uZSdzKVxuICAgIH0gZWxzZSB7XG4gICAgICB6b25lW3Byb3BlcnR5XSA9ICh0eXBlb2YgZGF0YVtwcm9wZXJ0eV0gPT09ICdvYmplY3QnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGFbcHJvcGVydHldKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtwcm9wZXJ0eV07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gem9uZTtcbn1cblxuXG5ab25lLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFpvbmUsXG5cbiAgZm9yazogZnVuY3Rpb24gKGxvY2Fscykge1xuICAgIHRoaXMub25ab25lQ3JlYXRlZCgpO1xuICAgIHJldHVybiBuZXcgWm9uZSh0aGlzLCBsb2NhbHMpO1xuICB9LFxuXG4gIGJpbmQ6IGZ1bmN0aW9uIChmbiwgc2tpcEVucXVldWUpIHtcbiAgICBza2lwRW5xdWV1ZSB8fCB0aGlzLmVucXVldWVUYXNrKGZuKTtcbiAgICB2YXIgem9uZSA9IHRoaXMuZm9yaygpO1xuICAgIHJldHVybiBmdW5jdGlvbiB6b25lQm91bmRGbigpIHtcbiAgICAgIHJldHVybiB6b25lLnJ1bihmbiwgdGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9LFxuXG4gIGJpbmRPbmNlOiBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgYm91bmRab25lID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5iaW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgYm91bmRab25lLmRlcXVldWVUYXNrKGZuKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH0sXG5cbiAgcnVuOiBmdW5jdGlvbiBydW4gKGZuLCBhcHBseVRvLCBhcHBseVdpdGgpIHtcbiAgICBhcHBseVdpdGggPSBhcHBseVdpdGggfHwgW107XG5cbiAgICB2YXIgb2xkWm9uZSA9IHdpbmRvdy56b25lLFxuICAgICAgICByZXN1bHQ7XG5cbiAgICB3aW5kb3cuem9uZSA9IHRoaXM7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5iZWZvcmVUYXNrKCk7XG4gICAgICByZXN1bHQgPSBmbi5hcHBseShhcHBseVRvLCBhcHBseVdpdGgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmICh6b25lLm9uRXJyb3IpIHtcbiAgICAgICAgem9uZS5vbkVycm9yKGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5hZnRlclRhc2soKTtcbiAgICAgIHdpbmRvdy56b25lID0gb2xkWm9uZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICBiZWZvcmVUYXNrOiBmdW5jdGlvbiAoKSB7fSxcbiAgb25ab25lQ3JlYXRlZDogZnVuY3Rpb24gKCkge30sXG4gIGFmdGVyVGFzazogZnVuY3Rpb24gKCkge30sXG4gIGVucXVldWVUYXNrOiBmdW5jdGlvbiAoKSB7fSxcbiAgZGVxdWV1ZVRhc2s6IGZ1bmN0aW9uICgpIHt9XG59O1xuXG5cblpvbmUucGF0Y2hTZXRDbGVhckZuID0gZnVuY3Rpb24gKG9iaiwgZm5OYW1lcykge1xuICBmbk5hbWVzLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cigxKTtcbiAgfSkuXG4gIGZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgc2V0TmFtZSA9ICdzZXQnICsgbmFtZTtcbiAgICB2YXIgY2xlYXJOYW1lID0gJ2NsZWFyJyArIG5hbWU7XG4gICAgdmFyIGRlbGVnYXRlID0gb2JqW3NldE5hbWVdO1xuXG4gICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICB2YXIgaWRzID0ge307XG5cbiAgICAgIGlmIChzZXROYW1lID09PSAnc2V0SW50ZXJ2YWwnKSB7XG4gICAgICAgIHpvbmVbc2V0TmFtZV0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICB2YXIgaWQ7XG4gICAgICAgICAgYXJndW1lbnRzWzBdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVsZXRlIGlkc1tpZF07XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBhcmdzID0gWm9uZS5iaW5kQXJndW1lbnRzKGFyZ3VtZW50cyk7XG4gICAgICAgICAgaWQgPSBkZWxlZ2F0ZS5hcHBseShvYmosIGFyZ3MpO1xuICAgICAgICAgIGlkc1tpZF0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHpvbmVbc2V0TmFtZV0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICB2YXIgaWQ7XG4gICAgICAgICAgYXJndW1lbnRzWzBdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVsZXRlIGlkc1tpZF07XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBhcmdzID0gWm9uZS5iaW5kQXJndW1lbnRzT25jZShhcmd1bWVudHMpO1xuICAgICAgICAgIGlkID0gZGVsZWdhdGUuYXBwbHkob2JqLCBhcmdzKTtcbiAgICAgICAgICBpZHNbaWRdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH07XG4gICAgICB9XG5cblxuICAgICAgb2JqW3NldE5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gem9uZVtzZXROYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNsZWFyRGVsZWdhdGUgPSBvYmpbY2xlYXJOYW1lXTtcblxuICAgICAgem9uZVtjbGVhck5hbWVdID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmIChpZHNbaWRdKSB7XG4gICAgICAgICAgZGVsZXRlIGlkc1tpZF07XG4gICAgICAgICAgem9uZS5kZXF1ZXVlVGFzaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGVhckRlbGVnYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBvYmpbY2xlYXJOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHpvbmVbY2xlYXJOYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5ab25lLnBhdGNoU2V0Rm4gPSBmdW5jdGlvbiAob2JqLCBmbk5hbWVzKSB7XG4gIGZuTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkZWxlZ2F0ZSA9IG9ialtuYW1lXTtcblxuICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgem9uZVtuYW1lXSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICBhcmd1bWVudHNbMF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gWm9uZS5iaW5kQXJndW1lbnRzT25jZShhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gZGVsZWdhdGUuYXBwbHkob2JqLCBhcmdzKTtcbiAgICAgIH07XG5cbiAgICAgIG9ialtuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHpvbmVbbmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn07XG5cblpvbmUucGF0Y2hQcm90b3R5cGUgPSBmdW5jdGlvbiAob2JqLCBmbk5hbWVzKSB7XG4gIGZuTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkZWxlZ2F0ZSA9IG9ialtuYW1lXTtcbiAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgIG9ialtuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmFwcGx5KHRoaXMsIFpvbmUuYmluZEFyZ3VtZW50cyhhcmd1bWVudHMpKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn07XG5cblpvbmUuYmluZEFyZ3VtZW50cyA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIGZvciAodmFyIGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmdzW2ldID0gem9uZS5iaW5kKGFyZ3NbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJncztcbn07XG5cblxuWm9uZS5iaW5kQXJndW1lbnRzT25jZSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIGZvciAodmFyIGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmdzW2ldID0gem9uZS5iaW5kT25jZShhcmdzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyZ3M7XG59O1xuXG5ab25lLnBhdGNoYWJsZUZuID0gZnVuY3Rpb24gKG9iaiwgZm5OYW1lcykge1xuICBmbk5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGVsZWdhdGUgPSBvYmpbbmFtZV07XG4gICAgem9uZVtuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkZWxlZ2F0ZS5hcHBseShvYmosIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIG9ialtuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB6b25lW25hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSk7XG59O1xuXG5ab25lLnBhdGNoUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBwcm9wKSB7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApIHx8IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9O1xuXG4gIC8vIEEgcHJvcGVydHkgZGVzY3JpcHRvciBjYW5ub3QgaGF2ZSBnZXR0ZXIvc2V0dGVyIGFuZCBiZSB3cml0YWJsZVxuICAvLyBkZWxldGluZyB0aGUgd3JpdGFibGUgYW5kIHZhbHVlIHByb3BlcnRpZXMgYXZvaWRzIHRoaXMgZXJyb3I6XG4gIC8vXG4gIC8vIFR5cGVFcnJvcjogcHJvcGVydHkgZGVzY3JpcHRvcnMgbXVzdCBub3Qgc3BlY2lmeSBhIHZhbHVlIG9yIGJlIHdyaXRhYmxlIHdoZW4gYVxuICAvLyBnZXR0ZXIgb3Igc2V0dGVyIGhhcyBiZWVuIHNwZWNpZmllZFxuICBkZWxldGUgZGVzYy53cml0YWJsZTtcbiAgZGVsZXRlIGRlc2MudmFsdWU7XG5cbiAgLy8gc3Vic3RyKDIpIGN1eiAnb25jbGljaycgLT4gJ2NsaWNrJywgZXRjXG4gIHZhciBldmVudE5hbWUgPSBwcm9wLnN1YnN0cigyKTtcbiAgdmFyIF9wcm9wID0gJ18nICsgcHJvcDtcblxuICBkZXNjLnNldCA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmICh0aGlzW19wcm9wXSkge1xuICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpc1tfcHJvcF0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbX3Byb3BdID0gZm47XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbiwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW19wcm9wXSA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGRlc2MuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzW19wcm9wXTtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBkZXNjKTtcbn07XG5cblpvbmUucGF0Y2hQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iaiwgcHJvcGVydGllcykge1xuXG4gIChwcm9wZXJ0aWVzIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBbXTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIHByb3BzLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcHM7XG4gICAgfSgpKS5cbiAgICBmaWx0ZXIoZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5TmFtZS5zdWJzdHIoMCwyKSA9PT0gJ29uJztcbiAgICB9KSkuXG4gICAgZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBab25lLnBhdGNoUHJvcGVydHkob2JqLCBldmVudE5hbWUpO1xuICAgIH0pO1xufTtcblxuWm9uZS5wYXRjaEV2ZW50VGFyZ2V0TWV0aG9kcyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGFkZERlbGVnYXRlID0gb2JqLmFkZEV2ZW50TGlzdGVuZXI7XG4gIG9iai5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZm4pIHtcbiAgICBhcmd1bWVudHNbMV0gPSBmbi5fYm91bmQgPSB6b25lLmJpbmQoZm4pO1xuICAgIHJldHVybiBhZGREZWxlZ2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIHZhciByZW1vdmVEZWxlZ2F0ZSA9IG9iai5yZW1vdmVFdmVudExpc3RlbmVyO1xuICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGZuKSB7XG4gICAgYXJndW1lbnRzWzFdID0gYXJndW1lbnRzWzFdLl9ib3VuZCB8fCBhcmd1bWVudHNbMV07XG4gICAgdmFyIHJlc3VsdCA9IHJlbW92ZURlbGVnYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgem9uZS5kZXF1ZXVlVGFzayhmbik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG5cblpvbmUucGF0Y2ggPSBmdW5jdGlvbiBwYXRjaCAoKSB7XG4gIFpvbmUucGF0Y2hTZXRDbGVhckZuKHdpbmRvdywgW1xuICAgICd0aW1lb3V0JyxcbiAgICAnaW50ZXJ2YWwnLFxuICAgICdpbW1lZGlhdGUnXG4gIF0pO1xuXG4gIFpvbmUucGF0Y2hTZXRGbih3aW5kb3csIFtcbiAgICAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyxcbiAgICAnbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lJyxcbiAgICAnd2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lJ1xuICBdKTtcblxuICBab25lLnBhdGNoYWJsZUZuKHdpbmRvdywgWydhbGVydCcsICdwcm9tcHQnXSk7XG5cbiAgLy8gcGF0Y2hlZCBwcm9wZXJ0aWVzIGRlcGVuZCBvbiBhZGRFdmVudExpc3RlbmVyLCBzbyB0aGlzIG5lZWRzIHRvIGNvbWUgZmlyc3RcbiAgaWYgKHdpbmRvdy5FdmVudFRhcmdldCkge1xuICAgIFpvbmUucGF0Y2hFdmVudFRhcmdldE1ldGhvZHMod2luZG93LkV2ZW50VGFyZ2V0LnByb3RvdHlwZSk7XG5cbiAgLy8gTm90ZTogRXZlbnRUYXJnZXQgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMsXG4gIC8vIGlmIGl0J3Mgbm90IGF2YWlsYWJsZSwgd2UgaW5zdGVhZCBwYXRjaCB0aGUgQVBJcyBpbiB0aGUgSURMIHRoYXQgaW5oZXJpdCBmcm9tIEV2ZW50VGFyZ2V0XG4gIH0gZWxzZSB7XG4gICAgWyAnQXBwbGljYXRpb25DYWNoZScsXG4gICAgICAnRXZlbnRTb3VyY2UnLFxuICAgICAgJ0ZpbGVSZWFkZXInLFxuICAgICAgJ0lucHV0TWV0aG9kQ29udGV4dCcsXG4gICAgICAnTWVkaWFDb250cm9sbGVyJyxcbiAgICAgICdNZXNzYWdlUG9ydCcsXG4gICAgICAnTm9kZScsXG4gICAgICAnUGVyZm9ybWFuY2UnLFxuICAgICAgJ1NWR0VsZW1lbnRJbnN0YW5jZScsXG4gICAgICAnU2hhcmVkV29ya2VyJyxcbiAgICAgICdUZXh0VHJhY2snLFxuICAgICAgJ1RleHRUcmFja0N1ZScsXG4gICAgICAnVGV4dFRyYWNrTGlzdCcsXG4gICAgICAnV2ViS2l0TmFtZWRGbG93JyxcbiAgICAgICdXaW5kb3cnLFxuICAgICAgJ1dvcmtlcicsXG4gICAgICAnV29ya2VyR2xvYmFsU2NvcGUnLFxuICAgICAgJ1hNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQnLFxuICAgICAgJ1hNTEh0dHBSZXF1ZXN0VXBsb2FkJ1xuICAgIF0uXG4gICAgZmlsdGVyKGZ1bmN0aW9uICh0aGluZykge1xuICAgICAgcmV0dXJuIHdpbmRvd1t0aGluZ107XG4gICAgfSkuXG4gICAgbWFwKGZ1bmN0aW9uICh0aGluZykge1xuICAgICAgcmV0dXJuIHdpbmRvd1t0aGluZ10ucHJvdG90eXBlO1xuICAgIH0pLlxuICAgIGZvckVhY2goWm9uZS5wYXRjaEV2ZW50VGFyZ2V0TWV0aG9kcyk7XG4gIH1cblxuICBpZiAoWm9uZS5jYW5QYXRjaFZpYVByb3BlcnR5RGVzY3JpcHRvcigpKSB7XG4gICAgWm9uZS5wYXRjaFZpYVByb3BlcnR5RGVzY3JpcHRvcigpO1xuICB9IGVsc2Uge1xuICAgIFpvbmUucGF0Y2hWaWFDYXB0dXJpbmdBbGxUaGVFdmVudHMoKTtcbiAgICBab25lLnBhdGNoQ2xhc3MoJ1hNTEh0dHBSZXF1ZXN0Jyk7XG4gIH1cblxuICAvLyBwYXRjaCBwcm9taXNlc1xuICBpZiAod2luZG93LlByb21pc2UpIHtcbiAgICBab25lLnBhdGNoUHJvdG90eXBlKFByb21pc2UucHJvdG90eXBlLCBbXG4gICAgICAndGhlbicsXG4gICAgICAnY2F0Y2gnXG4gICAgXSk7XG4gIH1cbiAgWm9uZS5wYXRjaE11dGF0aW9uT2JzZXJ2ZXJDbGFzcygnTXV0YXRpb25PYnNlcnZlcicpO1xuICBab25lLnBhdGNoTXV0YXRpb25PYnNlcnZlckNsYXNzKCdXZWJLaXRNdXRhdGlvbk9ic2VydmVyJyk7XG4gIFpvbmUucGF0Y2hEZWZpbmVQcm9wZXJ0eSgpO1xuICBab25lLnBhdGNoUmVnaXN0ZXJFbGVtZW50KCk7XG59O1xuXG4vL1xuWm9uZS5jYW5QYXRjaFZpYVByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uICgpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxFbGVtZW50LnByb3RvdHlwZSwgJ29uY2xpY2snLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuICB2YXIgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciByZXN1bHQgPSAhIWVsdC5vbmNsaWNrO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnb25jbGljaycsIHt9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIGZvciBicm93c2VycyB0aGF0IHdlIGNhbiBwYXRjaCB0aGUgZGVzY3JpcHRvcjpcbi8vIC0gZXZlbnR1YWxseSBDaHJvbWUgb25jZSB0aGlzIGJ1ZyBnZXRzIHJlc29sdmVkXG4vLyAtIEZpcmVmb3hcblpvbmUucGF0Y2hWaWFQcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIFpvbmUucGF0Y2hQcm9wZXJ0aWVzKEhUTUxFbGVtZW50LnByb3RvdHlwZSwgWm9uZS5vbkV2ZW50TmFtZXMpO1xuICBab25lLnBhdGNoUHJvcGVydGllcyhYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUpO1xufTtcblxuLy8gV2hlbmV2ZXIgYW55IGV2ZW50IGZpcmVzLCB3ZSBjaGVjayB0aGUgZXZlbnQgdGFyZ2V0IGFuZCBhbGwgcGFyZW50c1xuLy8gZm9yIGBvbndoYXRldmVyYCBwcm9wZXJ0aWVzIGFuZCByZXBsYWNlIHRoZW0gd2l0aCB6b25lLWJvdW5kIGZ1bmN0aW9uc1xuLy8gLSBDaHJvbWUgKGZvciBub3cpXG5ab25lLnBhdGNoVmlhQ2FwdHVyaW5nQWxsVGhlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICBab25lLmV2ZW50TmFtZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICB2YXIgb25wcm9wZXJ0eSA9ICdvbicgKyBwcm9wZXJ0eTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHByb3BlcnR5LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBlbHQgPSBldmVudC50YXJnZXQsIGJvdW5kO1xuICAgICAgd2hpbGUgKGVsdCkge1xuICAgICAgICBpZiAoZWx0W29ucHJvcGVydHldICYmICFlbHRbb25wcm9wZXJ0eV0uX3VuYm91bmQpIHtcbiAgICAgICAgICBib3VuZCA9IHpvbmUuYmluZChlbHRbb25wcm9wZXJ0eV0pO1xuICAgICAgICAgIGJvdW5kLl91bmJvdW5kID0gZWx0W29ucHJvcGVydHldO1xuICAgICAgICAgIGVsdFtvbnByb3BlcnR5XSA9IGJvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsdCA9IGVsdC5wYXJlbnRFbGVtZW50O1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9KTtcbn07XG5cbi8vIHdyYXAgc29tZSBuYXRpdmUgQVBJIG9uIGB3aW5kb3dgXG5ab25lLnBhdGNoQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gIHZhciBPcmlnaW5hbENsYXNzID0gd2luZG93W2NsYXNzTmFtZV07XG4gIGlmICghT3JpZ2luYWxDbGFzcykge1xuICAgIHJldHVybjtcbiAgfVxuICB3aW5kb3dbY2xhc3NOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IFpvbmUuYmluZEFyZ3VtZW50cyhhcmd1bWVudHMpO1xuICAgIHN3aXRjaCAoYS5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogdGhpcy5fbyA9IG5ldyBPcmlnaW5hbENsYXNzKCk7IGJyZWFrO1xuICAgICAgY2FzZSAxOiB0aGlzLl9vID0gbmV3IE9yaWdpbmFsQ2xhc3MoYVswXSk7IGJyZWFrO1xuICAgICAgY2FzZSAyOiB0aGlzLl9vID0gbmV3IE9yaWdpbmFsQ2xhc3MoYVswXSwgYVsxXSk7IGJyZWFrO1xuICAgICAgY2FzZSAzOiB0aGlzLl9vID0gbmV3IE9yaWdpbmFsQ2xhc3MoYVswXSwgYVsxXSwgYVsyXSk7IGJyZWFrO1xuICAgICAgY2FzZSA0OiB0aGlzLl9vID0gbmV3IE9yaWdpbmFsQ2xhc3MoYVswXSwgYVsxXSwgYVsyXSwgYVszXSk7IGJyZWFrO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCd3aGF0IGFyZSB5b3UgZXZlbiBkb2luZz8nKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGluc3RhbmNlID0gbmV3IE9yaWdpbmFsQ2xhc3MoY2xhc3NOYW1lLnN1YnN0cigtMTYpID09PSAnTXV0YXRpb25PYnNlcnZlcicgPyBmdW5jdGlvbiAoKSB7fSA6IHVuZGVmaW5lZCk7XG5cbiAgdmFyIHByb3A7XG4gIGZvciAocHJvcCBpbiBpbnN0YW5jZSkge1xuICAgIChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZVtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3aW5kb3dbY2xhc3NOYW1lXS5wcm90b3R5cGVbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29bcHJvcF0uYXBwbHkodGhpcy5fbywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3dbY2xhc3NOYW1lXS5wcm90b3R5cGUsIHByb3AsIHtcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB0aGlzLl9vW3Byb3BdID0gem9uZS5iaW5kKGZuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuX29bcHJvcF0gPSBmbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29bcHJvcF07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KHByb3ApKTtcbiAgfTtcbn07XG5cbi8vIHdyYXAgc29tZSBuYXRpdmUgQVBJIG9uIGB3aW5kb3dgXG5ab25lLnBhdGNoTXV0YXRpb25PYnNlcnZlckNsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICB2YXIgT3JpZ2luYWxDbGFzcyA9IHdpbmRvd1tjbGFzc05hbWVdO1xuICBpZiAoIU9yaWdpbmFsQ2xhc3MpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2luZG93W2NsYXNzTmFtZV0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICB0aGlzLl9vID0gbmV3IE9yaWdpbmFsQ2xhc3Moem9uZS5iaW5kKGZuLCB0cnVlKSk7XG4gIH07XG5cbiAgdmFyIGluc3RhbmNlID0gbmV3IE9yaWdpbmFsQ2xhc3MoZnVuY3Rpb24gKCkge30pO1xuXG4gIHdpbmRvd1tjbGFzc05hbWVdLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLl9vLmRpc2Nvbm5lY3QuYXBwbHkodGhpcy5fbywgYXJndW1lbnRzKTtcbiAgICB0aGlzLl9hY3RpdmUgJiYgem9uZS5kZXF1ZXVlVGFzaygpO1xuICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgd2luZG93W2NsYXNzTmFtZV0ucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHpvbmUuZW5xdWV1ZVRhc2soKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy5fby5vYnNlcnZlLmFwcGx5KHRoaXMuX28sIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgdmFyIHByb3A7XG4gIGZvciAocHJvcCBpbiBpbnN0YW5jZSkge1xuICAgIChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3dbY2xhc3NOYW1lXS5wcm90b3R5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlW3Byb3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdpbmRvd1tjbGFzc05hbWVdLnByb3RvdHlwZVtwcm9wXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb1twcm9wXS5hcHBseSh0aGlzLl9vLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvd1tjbGFzc05hbWVdLnByb3RvdHlwZSwgcHJvcCwge1xuICAgICAgICAgIHNldDogZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHRoaXMuX29bcHJvcF0gPSB6b25lLmJpbmQoZm4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fb1twcm9wXSA9IGZuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb1twcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0ocHJvcCkpO1xuICB9XG59O1xuXG4vLyBtaWdodCBuZWVkIHNpbWlsYXIgZm9yIG9iamVjdC5mcmVlemVcbi8vIGkgcmVncmV0IG5vdGhpbmdcblpvbmUucGF0Y2hEZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9kZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgdmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICB2YXIgX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwgcHJvcCwgZGVzYykge1xuICAgIGlmIChpc1VuY29uZmlndXJhYmxlKG9iaiwgcHJvcCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5IHByb3BlcnR5IFxcJycgKyBwcm9wICsgJ1xcJyBvZiAnICsgb2JqKTtcbiAgICB9XG4gICAgaWYgKHByb3AgIT09ICdwcm90b3R5cGUnKSB7XG4gICAgICBkZXNjID0gcmV3cml0ZURlc2NyaXB0b3Iob2JqLCBwcm9wLCBkZXNjKTtcbiAgICB9XG4gICAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIGRlc2MpO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iaiwgcHJvcHMpIHtcbiAgICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgcHJvcHNbcHJvcF0pO1xuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChvYmosIHByb3RvKSB7XG4gICAgaWYgKHR5cGVvZiBwcm90byA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKHByb3RvKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHByb3RvW3Byb3BdID0gcmV3cml0ZURlc2NyaXB0b3Iob2JqLCBwcm9wLCBwcm90b1twcm9wXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIF9jcmVhdGUob2JqLCBwcm90byk7XG4gIH07XG5cbiAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIChvYmosIHByb3ApIHtcbiAgICB2YXIgZGVzYyA9IF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKTtcbiAgICBpZiAoaXNVbmNvbmZpZ3VyYWJsZShvYmosIHByb3ApKSB7XG4gICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZGVzYztcbiAgfTtcblxuICBab25lLl9yZWRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwgcHJvcCwgZGVzYykge1xuICAgIGRlc2MgPSByZXdyaXRlRGVzY3JpcHRvcihvYmosIHByb3AsIGRlc2MpO1xuICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBkZXNjKTtcbiAgfTtcblxuICBmdW5jdGlvbiBpc1VuY29uZmlndXJhYmxlIChvYmosIHByb3ApIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5fX3VuY29uZmlndXJhYmxlcyAmJiBvYmouX191bmNvbmZpZ3VyYWJsZXNbcHJvcF07XG4gIH1cblxuICBmdW5jdGlvbiByZXdyaXRlRGVzY3JpcHRvciAob2JqLCBwcm9wLCBkZXNjKSB7XG4gICAgZGVzYy5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmICghZGVzYy5jb25maWd1cmFibGUpIHtcbiAgICAgIGlmICghb2JqLl9fdW5jb25maWd1cmFibGVzKSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eShvYmosICdfX3VuY29uZmlndXJhYmxlcycsIHsgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB7fSB9KTtcbiAgICAgIH1cbiAgICAgIG9iai5fX3VuY29uZmlndXJhYmxlc1twcm9wXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBkZXNjO1xuICB9XG59O1xuXG5ab25lLnBhdGNoUmVnaXN0ZXJFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoISgncmVnaXN0ZXJFbGVtZW50JyBpbiBkb2N1bWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIF9yZWdpc3RlckVsZW1lbnQgPSBkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7XG4gIHZhciBjYWxsYmFja3MgPSBbXG4gICAgJ2NyZWF0ZWRDYWxsYmFjaycsXG4gICAgJ2F0dGFjaGVkQ2FsbGJhY2snLFxuICAgICdkZXRhY2hlZENhbGxiYWNrJyxcbiAgICAnYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJ1xuICBdO1xuICBkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQgPSBmdW5jdGlvbiAobmFtZSwgb3B0cykge1xuICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgaWYgKG9wdHMucHJvdG90eXBlW2NhbGxiYWNrXSkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3B0cy5wcm90b3R5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IudmFsdWUpIHtcbiAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gem9uZS5iaW5kKGRlc2NyaXB0b3IudmFsdWUgfHwgb3B0cy5wcm90b3R5cGVbY2FsbGJhY2tdKTtcbiAgICAgICAgICBab25lLl9yZWRlZmluZVByb3BlcnR5KG9wdHMucHJvdG90eXBlLCBjYWxsYmFjaywgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3JlZ2lzdGVyRWxlbWVudC5hcHBseShkb2N1bWVudCwgW25hbWUsIG9wdHNdKTtcbiAgfTtcbn1cblxuWm9uZS5ldmVudE5hbWVzID0gJ2NvcHkgY3V0IHBhc3RlIGFib3J0IGJsdXIgZm9jdXMgY2FucGxheSBjYW5wbGF5dGhyb3VnaCBjaGFuZ2UgY2xpY2sgY29udGV4dG1lbnUgZGJsY2xpY2sgZHJhZyBkcmFnZW5kIGRyYWdlbnRlciBkcmFnbGVhdmUgZHJhZ292ZXIgZHJhZ3N0YXJ0IGRyb3AgZHVyYXRpb25jaGFuZ2UgZW1wdGllZCBlbmRlZCBpbnB1dCBpbnZhbGlkIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbG9hZCBsb2FkZWRkYXRhIGxvYWRlZG1ldGFkYXRhIGxvYWRzdGFydCBtb3VzZWRvd24gbW91c2VlbnRlciBtb3VzZWxlYXZlIG1vdXNlbW92ZSBtb3VzZW91dCBtb3VzZW92ZXIgbW91c2V1cCBwYXVzZSBwbGF5IHBsYXlpbmcgcHJvZ3Jlc3MgcmF0ZWNoYW5nZSByZXNldCBzY3JvbGwgc2Vla2VkIHNlZWtpbmcgc2VsZWN0IHNob3cgc3RhbGxlZCBzdWJtaXQgc3VzcGVuZCB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZSB3YWl0aW5nIG1vemZ1bGxzY3JlZW5jaGFuZ2UgbW96ZnVsbHNjcmVlbmVycm9yIG1venBvaW50ZXJsb2NrY2hhbmdlIG1venBvaW50ZXJsb2NrZXJyb3IgZXJyb3Igd2ViZ2xjb250ZXh0cmVzdG9yZWQgd2ViZ2xjb250ZXh0bG9zdCB3ZWJnbGNvbnRleHRjcmVhdGlvbmVycm9yJy5zcGxpdCgnICcpO1xuWm9uZS5vbkV2ZW50TmFtZXMgPSBab25lLmV2ZW50TmFtZXMubWFwKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICByZXR1cm4gJ29uJyArIHByb3BlcnR5O1xufSk7XG5cblpvbmUuaW5pdCA9IGZ1bmN0aW9uIGluaXQgKCkge1xuICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBuZXcgWm9uZSgpO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy56b25lID0gbmV3IFpvbmUoKTtcbiAgfVxuICBab25lLnBhdGNoKCk7XG59O1xuXG5ab25lLmluaXQoKTtcbiJdfQ==