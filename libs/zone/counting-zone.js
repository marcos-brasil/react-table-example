"use strict";
Zone.countingZone = {
  '+enqueueTask': function() {
    this.data.count += 1;
  },
  '-dequeueTask': function() {
    this.data.count -= 1;
  },
  '+afterTask': function() {
    if (this.data.count === 0 && !this.data.flushed) {
      this.data.flushed = true;
      this.run(this.onFlush);
    }
  },
  counter: function() {
    return this.data.count;
  },
  data: {
    count: 0,
    flushed: false
  },
  onFlush: function() {}
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYnMvem9uZS9jb3VudGluZy16b25lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBO0FBQUEsR0FBRyxhQUFhLEVBQUk7QUFHbEIsZUFBYSxDQUFHLFVBQVMsQUFBQyxDQUFFO0FBQzFCLE9BQUcsS0FBSyxNQUFNLEdBQUssRUFBQSxDQUFDO0VBQ3RCO0FBS0EsZUFBYSxDQUFHLFVBQVMsQUFBQyxDQUFFO0FBQzFCLE9BQUcsS0FBSyxNQUFNLEdBQUssRUFBQSxDQUFDO0VBQ3RCO0FBRUEsYUFBVyxDQUFHLFVBQVMsQUFBQyxDQUFFO0FBQ3hCLE9BQUksSUFBRyxLQUFLLE1BQU0sSUFBTSxFQUFBLENBQUEsRUFBSyxFQUFDLElBQUcsS0FBSyxRQUFRLENBQUc7QUFDL0MsU0FBRyxLQUFLLFFBQVEsRUFBSSxLQUFHLENBQUM7QUFDeEIsU0FBRyxJQUFJLEFBQUMsQ0FBQyxJQUFHLFFBQVEsQ0FBQyxDQUFDO0lBQ3hCO0FBQUEsRUFDRjtBQUVBLFFBQU0sQ0FBRyxVQUFTLEFBQUMsQ0FBRTtBQUNuQixTQUFPLENBQUEsSUFBRyxLQUFLLE1BQU0sQ0FBQztFQUN4QjtBQUVBLEtBQUcsQ0FBRztBQUNKLFFBQUksQ0FBRyxFQUFBO0FBQ1AsVUFBTSxDQUFHLE1BQUk7QUFBQSxFQUNmO0FBRUEsUUFBTSxDQUFHLFVBQVMsQUFBQyxDQUFFLEdBQUM7QUFBQSxBQUN4QixDQUFDO0FBQ0QiLCJmaWxlIjoibGlicy96b25lL2NvdW50aW5nLXpvbmUuanMiLCJzb3VyY2VSb290IjoiLi4vLi4iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU2VlIGV4YW1wbGUvY291bnRpbmcuaHRtbFxuICovXG5cblpvbmUuY291bnRpbmdab25lID0ge1xuXG4gIC8vIHNldFRpbWVvdXRcbiAgJytlbnF1ZXVlVGFzayc6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRhdGEuY291bnQgKz0gMTtcbiAgfSxcblxuICAvLyBmaXJlcyB3aGVuLi4uXG4gIC8vIC0gY2xlYXJUaW1lb3V0XG4gIC8vIC0gc2V0VGltZW91dCBmaW5pc2hlc1xuICAnLWRlcXVldWVUYXNrJzogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGF0YS5jb3VudCAtPSAxO1xuICB9LFxuXG4gICcrYWZ0ZXJUYXNrJzogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmRhdGEuY291bnQgPT09IDAgJiYgIXRoaXMuZGF0YS5mbHVzaGVkKSB7XG4gICAgICB0aGlzLmRhdGEuZmx1c2hlZCA9IHRydWU7XG4gICAgICB0aGlzLnJ1bih0aGlzLm9uRmx1c2gpO1xuICAgIH1cbiAgfSxcblxuICBjb3VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5jb3VudDtcbiAgfSxcblxuICBkYXRhOiB7XG4gICAgY291bnQ6IDAsXG4gICAgZmx1c2hlZDogZmFsc2VcbiAgfSxcblxuICBvbkZsdXNoOiBmdW5jdGlvbiAoKSB7fVxufTtcbiJdfQ==